<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buenos Aires Palm Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .hero-gradient { background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body class="bg-white text-slate-900">
    <nav class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="text-2xl font-bold tracking-tighter text-blue-600">
                <a href="../../index.html" class="text-2xl font-bold tracking-tighter text-blue-600">
                    YOGI 
                    <span class="text-slate-800">
                        S. 
                    </span>
                </a>
            </div>
            <div id="navbar-menu" class="hidden md:flex space-x-8 text-sm font-medium uppercase tracking-wide">
                <a href="../projects.html" 
                  class="text-blue-600 border-b-2 border-blue-600 px-1 transition">
                  Projects
                </a>
                <a href="../../About/about.html" 
                  class="text-slate-500 hover:text-blue-600 transition">
                  About
                </a>
            </div>
            <button id="menu-toggle" class="md:hidden text-slate-600">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-4 py-4 space-y-4">
              <a href="../projects.html" class="block text-blue-600 border-b border-blue-200 pb-2 font-medium uppercase tracking-wide transition">Projects</a>
              <a href="../../About/about.html" class="block text-slate-500 hover:text-blue-600 font-medium uppercase tracking-wide transition">About</a>
            </div>
        </div>
    </nav>

    <header class="hero-gradient text-white py-20 px-4">
        <div class="max-w-4xl mx-auto text-center">
            <span class="bg-blue-600 text-xs font-bold px-3 py-1 rounded-full uppercase mb-4 inline-block">
              UAV Photogrammetry
            </span>
            <h1 class="text-4xl md:text-5xl font-bold mb-2">
              Buenos Aires Palm Detection Using YOLO11s
            </h1>
            <p class="text-lg text-slate-300 leading-relaxed">
              Multispectral imagery analysis of a palm plantation in Buenos Aires, Argentina.
            </p>
            <div class="flex justify-center gap-4">
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-16 grid grid-cols-1 lg:grid-cols-3 gap-12">
        
        <div class="lg:col-span-2 space-y-12">
            <section>
                <h2 class="text-2xl font-bold mb-4 border-l-4 border-blue-600 pl-4">
                  Introduction
                </h2>
                <p class="text-slate-600 leading-relaxed mb-4">
                  This data presents tree-level analysis of a 7.3 ha palm plantation in Buenos Aires, Argentina. A total of 4,728 trees were detected from 4.5 cm UAV multispectral imagery using a custom-trained YOLO11s model. Per-tree NDVI and NDRE values were calculated from the orthomosaic to assess canopy health and spatial variability across two plantation blocks.
                </p>

            <div class="relative w-full rounded-xl overflow-hidden shadow-lg border bg-slate-100 h-[500px] md:h-[600px]">
                <div class="absolute inset-0 flex items-center justify-center text-slate-400 animate-pulse">
                    <span>
                      Loading Interactive Map...
                    </span>
                </div>
                
                <iframe 
                    src="https://hicsuntdracone.github.io/BuenosAires/WEBGIS" 
                    class="absolute top-0 left-0 w-full h-full border-0 z-10"
                    title="Buenos Aires Palm Tree WebGIS"
                    allow="geolocation; focus-without-user-activation"
                    allowfullscreen>
                </iframe>
            </div>
            <div class="mt-4 flex justify-end">
                <a href="https://hicsuntdracone.github.io/BuenosAires/WEBGIS" target="_blank" class="inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-700">
                Launch Fullscreen Map
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />   
                    </svg>
                </a>
            </div>    

            <p class="mt-3 text-sm text-slate-500 italic">
              * Interactive WebGIS: Zoom and pan to explore.
            </p>

            <div class="mt-10 grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto">
                <div class="bg-white/10 backdrop-blur-md p-4 rounded-lg border border-white/20">
                    <div class="text-2xl font-bold">
                      7.3
                    </div>
                    <div class="text-xs uppercase tracking-wider text-slate-400">
                      Hectares
                    </div>
                </div>
                <div class="bg-white/10 backdrop-blur-md p-4 rounded-lg border border-white/20">
                    <div class="text-2xl font-bold">
                      4,728
                    </div>
                    <div class="text-xs uppercase tracking-wider text-slate-400">
                      Trees Detected
                    </div>
                </div>
                <div class="bg-white/10 backdrop-blur-md p-4 rounded-lg border border-white/20">
                    <div class="text-2xl font-bold">
                      4.5cm
                    </div>
                    <div class="text-xs uppercase tracking-wider text-slate-400">
                      GSD
                    </div>
                </div>
                <div class="bg-white/10 backdrop-blur-md p-4 rounded-lg border border-white/20">
                    <div class="text-2xl font-bold">
                      ~0.98
                    </div>
                    <div class="text-xs tracking-wider text-slate-400">
                      mAP@0.50
                    </div>
                </div>
            </div>
            <section class="mt-12">
                <h3 class="text-xl font-bold mb-4">
                  Spectral Indices Analysis
                </h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse bg-white rounded-xl overflow-hidden shadow-sm border">
                        <thead class="bg-slate-50 border-b">
                            <tr>
                                <th class="p-4 font-semibold text-slate-700">
                                  Index
                                </th>
                                <th class="p-4 font-semibold text-slate-700">
                                  Focus
                                </th>
                                <th class="p-4 font-semibold text-slate-700">
                                  Application
                                </th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-600 divide-y">
                            <tr>
                                <td class="p-4 font-mono text-blue-600">
                                  NDVI
                                </td>
                                <td class="p-4">
                                  Chlorophyll Absorption
                                </td>
                                <td class="p-4">
                                  General biomass & vigor detection
                                </td>
                            </tr>
                            <tr>
                                <td class="p-4 font-mono text-blue-600">
                                  NDRE
                                </td>
                                <td class="p-4">
                                  Red Edge Sensitivity
                                </td>
                                <td class="p-4">
                                  Late-stage crop health & permanent crops
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-8">
                    <p class="text-slate-600 text-sm mb-4 text-justify indent-4">
                      The spectral assessment integrates NDVI and NDRE indices to evaluate palm canopy vigor using publicly available multispectral imagery. NDVI serves as the primary indicator of chlorophyll absorption and overall biomass condition, while NDRE provides additional sensitivity to later-stage crop health typical of perennial plantations. The indices were calculated using the following formulas:
                    </p>
                    <p class="text-align:center; font-size: 1.6em;">
                    \[NDVI = \frac{NIR - Red}{NIR + Red}\] <br>
                    \[NDRE = \frac{NIR - RedEdge}{NIR + RedEdge}\]
                    </p>
                    <p class="text-slate-600 text-sm mb-4 text-justify indent-4">
                      Based on the NDVI histogram distribution, detected palms were grouped into four health classes using defined thresholds: <span style="color:#D7191C; font-weight:bold">poor (0.30–0.45)</span>, <span style="color:#FDAE61; font-weight:bold">fair (0.46–0.60)</span>, <span style="color:#ABDDA4; font-weight:bold">healthy (0.61–0.75)</span>, and <span style="color:#16A200; font-weight:bold">thriving (0.76–0.90)</span>. The distribution indicates that most palms fall within the healthy to thriving range, with 75 categorized as poor, 720 as fair, 3,330 as healthy, and 603 as thriving. This combined object detection and spectral index workflow demonstrates how publicly available imagery and deep learning outputs can be integrated to derive quantitative vegetation health insights and support scalable plantation monitoring analysis.
                    </div>
                <div class="mt-8">
                      <h3 class="text-lg font-semibold mb-6">
                        Histogram of the NDVI Values
                      </h3>
                    <div class="bg-white p-6 rounded-xl border shadow-sm">
                        <img src="images/ndvi-histogram.svg" alt="NDVI Histogram" class="w-full h-auto">
                  </div>
                </div>
            </section>

            <section class="mt-12">
              <div class="border-t border-slate-200 my-8"></div>
                <h3 class="text-xl font-bold mb-6">
                  Processing Workflows
                </h3>
                <div class="flex flex-col items-center">
                    <h4 class="font-semibold text-lg mb-3">Photogrammetry</h4>
                    <div class="bg-white p-6 rounded-xl border shadow-sm w-fit">
                        <img src="buenosaires-palm-flow.svg" alt="Photogrammetry Workflow" class="h-auto">
                    </div>
                </div>
                <p class="mt-4 text-sm text-slate-500 text-justify indent-4">
                  The photogrammetry workflow starts with UAV images and GCP references imported into Metashape, where photos are aligned by building tie points and marking GCPs to improve georeferencing accuracy. Camera parameters are optimized and reprojection errors are cleaned until thresholds are acceptable. A dense point cloud is then generated, ground points are classified, and elevation models (DSM/DTM) and an orthomosaic are produced. The final outputs are exported for mapping and further analysis.
                </p>
                <div class="flex flex-col items-center mt-8">
                    <h4 class="font-semibold text-lg mb-3">YOLO Training</h4>
                    <div class="bg-white p-6 rounded-xl border shadow-sm w-fit">
                        <img src="yolo-flow.svg" alt="YOLO Training Workflow" class="h-auto">
                    </div>
                </div>
                <p class="mt-4 text-sm text-slate-500 text-justify indent-4">
                  The YOLO training workflow uses the orthomosaic to define a training area that is split into 640×640 tiles with overlap, then annotated in Label Studio for palm tree detection. Labels are exported in YOLO format, split into train/validation/test sets, and trained in Google Colab using a YOLO11s model for about 60 epochs. Model performance is evaluated and improved if needed, and once acceptable, the trained weights are exported and converted to ONNX for deployment.
                </p>
                <div class="flex flex-col items-center mt-8">
                    <h4 class="font-semibold text-lg mb-3">Spectral Indices Analysis</h4>
                    <div class="bg-white p-6 rounded-xl border shadow-sm w-fit">
                        <img src="spectral-indices.svg" alt="Spectral Indices Analysis Workflow" class="h-auto">
                    </div>
                </div>
                <p class="mt-4 text-sm text-slate-500 text-justify indent-4">
                  The third workflow focuses on generating per-tree vegetation health metrics by integrating the orthomosaic produced from UAV photogrammetry and the trained detection model from the previous stages. The multispectral orthomosaic is imported into QGIS, where NDVI and NDRE rasters are calculated using the Raster Calculator with the formulas (NIR − Red) / (NIR + Red) and (NIR − RedEdge) / (NIR + RedEdge). The trained YOLO detection model is then deployed through the Deepness plugin to identify individual palm trees across the orthomosaic, producing bounding box polygons after parameter tuning for confidence and IoU thresholds. Once detection accuracy is acceptable, these polygons are used as zones to extract mean NDVI and NDRE values through zonal statistics, resulting in per-tree vegetation index attributes. This final stage links the outputs of UAV image processing and model training into a single analytical dataset, enabling individual tree health assessment and demonstrating an end-to-end pipeline from raw aerial imagery to spatially explicit plantation analytics.
                </p>
              </section>
                <p class="mt-4 text-sm text-slate-500 italic">
                  * Complete processing workflows from raw UAV dataset to detection and analysis outputs.
                </p>
            </section>
            <section class="mt-12">
              <div class="border-t border-slate-200 my-8"></div>
                <h3 class="text-xl font-bold mb-6">
                  Training Results
                </h3>
                <div class="bg-white p-6 rounded-xl border shadow-sm">
                    <img src="images/val_batch0_pred.jpg" alt="YOLO Training Results" class="w-full h-auto">
                </div>
                <div class="bg-white p-6 rounded-xl border shadow-sm">
                    <img src="images/results.png" alt="YOLO Training Results" class="w-full h-auto">
                </div>
                <p class="mt-4 text-sm text-slate-500 italic">
                  * Sample validation predictions and training metrics.
                </p>
            </section>
        </div>
        <aside class="space-y-8">
            <div class="bg-slate-900 text-white p-8 rounded-2xl shadow-xl">
                <h3 class="text-xl font-bold mb-6">Technical Specs</h3>
                <ul class="space-y-4">
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Tile Count</span>
                        <span class="font-mono">96</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Tile Size</span>
                        <span class="font-mono">640 px</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Total Boxes</span>
                        <span class="font-mono">3290</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Batch</span>
                        <span class="font-mono">16</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Epochs</span>
                        <span class="font-mono">60</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">CNN</span>
                        <span class="font-mono">YOLO v11</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">Software</span>
                        <span class="font-mono">QGIS, Metashape</span>
                    </li>
                    <li class="flex justify-between border-b border-slate-700 pb-2">
                        <span class="text-slate-400">UAV Dataset Provider</span>
                        <span class="font-mono">Foto Aérea</span>
                    </li>
                </ul>
            </div>
            <div class="bg-white p-6 rounded-xl border shadow-sm">
                <h3 class="font-bold text-lg mb-2">Sensor Bands</h3>
                <p class="text-sm text-slate-500">
                  Blue, Green, Red, Red Edge, NIR, Pan
                </p>
            </div>
                <div class="space-y-4">
                    <h3 class="font-bold text-slate-900 mb-4">Related Projects</h3>
                    <div class="space-y-3">
                        <a href="../Priladozhskii/priladozhskii.html" class="block group">
                            <div class="relative overflow-hidden rounded-lg aspect-square bg-slate-200 shadow-sm hover:shadow-md transition border border-slate-300">
                                <img src="../Priladozhskii/images/priladozhskii-thumb.png" alt="Buenos Aires Palm" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                <div class="absolute inset-0 bg-transparent transition flex items-end">
                                    <div class="p-3 bg-[#0f172a] text-white font-semibold text-sm">Orthomosaic Digitization →</div>
                                </div>
                            </div>
                        </a>
                        <a href="../Church/church.html" class="block group">
                            <div class="relative overflow-hidden rounded-lg aspect-square bg-slate-200 shadow-sm hover:shadow-md transition border border-slate-300">
                                <img src="../Church/images/church-thumb.png" alt="Church Digital Twin" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                <div class="absolute inset-0 bg-transparent transition flex items-end">
                                    <div class="p-3 bg-[#0f172a] text-white font-semibold text-sm">Church Digital Twin →</div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
        </aside>
        <section class="mt-12">
          <div class="border-t border-slate-200 my-8"></div> 
              <h3 class="text-xl font-bold mb-6">
                Source
              </h3> 
          <p class="mt-4 text-sm text-slate-500 italic">
          * Data Source: https://eaglenxt.com/data-set/palm-tree-detection-using-rededge-p
          </p>

    </main>

    <footer class="bg-white border-t py-12 mt-20">
        <div class="max-w-7xl mx-auto px-4 text-center text-slate-500 text-sm">
          2026 Yogi Satrio Wijoyo.
        </div>
    </footer>

    <script>
      // Mobile menu toggle
      const menuToggle = document.getElementById("menu-toggle");
      const mobileMenu = document.getElementById("mobile-menu");

      if (menuToggle && mobileMenu) {
        menuToggle.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
        });

        // Close menu when a link is clicked
        mobileMenu.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", () => {
            mobileMenu.classList.add("hidden");
          });
        });
      }
    </script>

</body>
</html>
